<div class="page">
  <h1 class='heading'>
    <%= resource_class.human_name -%>
  </h1> 
  <div class='actions'> 
    <%= link_to "#{I18n.t('dry_view.new', :default => "New")}#{resource_class.human_name}", new_resource_url %>
  </div> 
  <table> 
    <thead class='header'> 
      <tr> 
        <%- @dry_view[:columns].each do |c| -%>
        <th><%= resource_class.human_attribute_name(c.name) -%></th>
        <%- end -%>
        <th class='actions'><%=h I18n.t 'dry_view.actions', :default => "Actions" -%> </th> 
      </tr> 
    </thead> 
    <tbody class='items topics'> 
      <% if collection.empty? %>
        <tr>
          <td colspan="1000"><%= I18n.t('dry_view.record_not_found', :default => "Record not found.") %></td>
        </tr>
      <% end %>
      <% collection.each do |i| %>
        <tr class="<%= cycle("odd", "even") %> <%=h i.class.name -%>" id="<%=h "#{i.class.name}-#{i.id}" -%>">
          <%- @dry_view[:columns].each do |c| -%>
          <td class="<%= c.name -%>">
            <% me = "#{c.name}_column".gsub(/\?/, '') %>
            <%=h respond_to?(me) ? send(me, i): i.send(c.name) %>
          </td>
          <%- end -%>
          <td class="actions">
             <%- unless @dry_view[:except_show] -%>
             <%= link_to I18n.t('dry_view.view', :default => "View"), resource_url(i) %>
             |
             <%- end -%>
             <%= link_to I18n.t('dry_view.edit', :default => "Edit"), edit_resource_url(i) %>
             |
             <%= link_to I18n.t('dry_view.remove', :default => "Remove"), resource_url(i), :method => :delete, :confirm => I18n.t('dry_view.are_you_sure', :default => "Are you sure?") %> 
          </td>
        </tr>
      <% end %>
    </tbody> 
  </table> 
</div>
